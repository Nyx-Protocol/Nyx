# docs/ui/wireframes.md

> **遵守バッジ** : :no_entry: 実装コード非出力 / :no_entry_sign: C/C++依存禁止

## 目次
- [目的](#目的)
- [画面一覧](#画面一覧)
- [ワイヤーフレーム詳細](#ワイヤーフレーム詳細)
- [入力検証とエラー表示](#入力検証とエラー表示)
- [ユーザーフロー](#ユーザーフロー)
- [モバイル/デスクトップ差分](#モバイルデスクトップ差分)
- [受け入れ基準 (DoD)](#受け入れ基準-dod)
- [関連ドキュメント](#関連ドキュメント)

## 目的
主要画面の構造をテキストワイヤーフレームで定義し、UX設計の共通認識を形成する。

## 画面一覧
| ID | 画面名 | 目的 | 主ユーザ |
|----|--------|------|----------|
| WF-001 | ダッシュボード | 状態概観・主要指標 | 全ユーザ |
| WF-002 | セッション詳細 | ルートと匿名性の詳細表示 | 開発者/監査人 |
| WF-003 | 通信設定ウィザード | ルーティング・カバー交通設定 | 管理者 |
| WF-004 | 監査ログ検索 | コンプライアンス・監査 | 監査人 |

## ワイヤーフレーム詳細
### WF-001 ダッシュボード
```
+-----------------------------------------------------------+
| Header: [ Nyx Logo ]   [匿名性指数: 0.93] [接続: 安定]    |
+---------------------+--------------------+----------------+
| KPI Card 1:         | KPI Card 2:        | KPI Card 3:    |
| P95 Latency         | Session Uptime     | Cover λ        |
+---------------------+--------------------+----------------+
| Activity Timeline (折れ線チャート)                         |
+-----------------------------------------------------------+
| Alerts Panel | Recent Sessions Table                      |
+-----------------------------------------------------------+
```

### WF-002 セッション詳細
```
+--------------------- Session #ABC123 ---------------------+
| Route Map: [NodeA] -> [NodeB] -> [NodeC]                  |
| Timeline: +----+----+----+----+                           |
| Metrics Tabs: [Latency] [Loss] [Anonymity]                |
+-----------------------------------------------------------+
| Section: Transport Params                                 |
|  - Protocol: QUIC-like                                    |
|  - FEC Rate: 1.2                                          |
+-----------------------------------------------------------+
| Audit Trail                                               |
+-----------------------------------------------------------+
```

### WF-003 通信設定ウィザード
```
Step Progress: (1) Profile -> (2) Routing -> (3) Cover Traffic -> (4) Review

Step(1)
+------------------------------------------+
| Select Profile [Dropdown]                |
| Description Panel                        |
| Next Button                              |
+------------------------------------------+
```

### WF-004 監査ログ検索
```
+---------------- Audit Log Search -------------------------+
| Filters: [Date Range] [Actor] [Severity] [Apply]          |
+-----------------------------------------------------------+
| Results Table:                                           |
| | Timestamp | Actor | Action | Outcome | Details |       |
+-----------------------------------------------------------+
| Export Buttons: [CSV] [JSON]                             |
+-----------------------------------------------------------+
```

## 入力検証とエラー表示
- 必須項目はラベル横に`*`を表示、フォーカス時にヘルプテキスト。
- バリデーション失敗時はフィールド下にエラーメッセージ、色は`#D93025`。
- セッション設定の致命的エラーはレビュー画面でまとめ表示。
- トースト通知は成功/警告/失敗でカラーリング（詳細は[ui/visual-design.md](./visual-design.md)）。

## ユーザーフロー
```
[Dashboard] --View Session--> [Session Detail]
      |                                 |
      +--Configure--> [Wizard] --Submit--> [Confirmation]
                                      |
                                      +--View Audit--> [Audit Search]
```
- 各フローでガード条件（権限チェック）を挿入。

## モバイル/デスクトップ差分
| 項目 | モバイル | デスクトップ |
|------|----------|--------------|
| ナビゲーション | ボトムバー | サイドバー |
| 表示密度 | 折りたたみカード | 3カラム表示 |
| チャート | スパークライン + 詳細はモーダル | インラインチャート |
| 入力フォーム | ステップ小分け | 一括表示 |

## 受け入れ基準 (DoD)
- すべての画面でWCAG 2.2 AA準拠のコントラストを確保。
- レスポンシブ検証: 320px〜1920pxで崩れなし。
- ユーザーフローを[testing/e2e-tests.md](../testing/e2e-tests.md)のシナリオで検証。
- 匿名性指標表示は[performance/scalability.md](../performance/scalability.md)のSLIを利用。

## 関連ドキュメント
- [ui/overview.md](./overview.md)
- [ui/visual-design.md](./visual-design.md)
- [ui/accessibility.md](./accessibility.md)
- [testing/e2e-tests.md](../testing/e2e-tests.md)

> **宣言**: 本章は実装コードを含まず、C/C++依存を排除する。