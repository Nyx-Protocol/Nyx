# docs/ui/accessibility.md

> **遵守バッジ** : :no_entry: 実装コード非出力 / :no_entry_sign: C/C++依存禁止

## 目次
- [目的](#目的)
- [適用基準](#適用基準)
- [主要アクセシビリティ要件](#主要アクセシビリティ要件)
- [入力・フォーカス管理](#入力フォーカス管理)
- [スクリーンリーダ対応](#スクリーンリーダ対応)
- [国際化とマルチロケール](#国際化とマルチロケール)
- [監査・テスト](#監査テスト)
- [改善プロセス](#改善プロセス)
- [関連ドキュメント](#関連ドキュメント)

## 目的
Nyx UIのアクセシビリティ標準を定義し、WCAG 2.2 AA適合と多様なユーザの利用可能性を保証する。

## 適用基準
- **WCAG 2.2 AA**: すべてのUIコンポーネントが対象。
- **ARIA Authoring Practices**: インタラクティブコンポーネントはARIA属性で補完。
- **地域規制**: ADA, EN 301 549, JIS X 8341-3。

## 主要アクセシビリティ要件
| カテゴリ | 要件 | 指標 |
|----------|------|------|
| コントラスト | テキスト/背景は 4.5:1 以上。大文字は 3:1 | 手動/自動チェック |
| キーボード操作 | すべての機能はTab/Shift+Tab/Enter/Space/矢印で利用可能 | キーボードテスト |
| フォーカス可視性 | 2px 以上の明瞭なアウトライン | UIレビュー |
| モーション | Reduced Motion設定を尊重、代替提供 | E2Eテスト |
| オーディオ | 自動再生は行わず、音声は字幕/代替を提供 | サウンドレビュー |

## 入力・フォーカス管理
- フォーカス順はDOM順序に従い、モーダルオープン時にフォーカストラップ。
- フォーム検証はリアルタイム+バッチ。エラーはARIA `aria-live="polite"`。
- ショートカット操作は設定画面で一覧化し、衝突を防止。

## スクリーンリーダ対応
- 主要領域にはランドマーク（`<main>`, `<nav>`等）を設定。
- 状態変更時は`aria-live`で通知。匿名性指数が変化した際は簡潔な文で読み上げ。
- テーブルはヘッダー関連付けを実施し、セル説明を`aria-describedby`で提供。

## 国際化とマルチロケール
- 文言はICU MessageFormatで管理。右から左言語（アラビア語、ヘブライ語）に対応。
- 日付/時刻はISO 8601で保存し、表示はロケールメタデータを参照。
- サポート言語は英語、日本語、フランス語、アラビア語を優先し、拡張可能。

## 監査・テスト
1. デザイン段階で[ui/visual-design.md](./visual-design.md)のカラー規定を確認。
2. 実装前にアクセシビリティレビューシートを作成。
3. 自動テスト: axe-core等（C/C++依存のないツール）を利用。
4. 手動テスト: スクリーンリーダ（NVDA, VoiceOverなど）でシナリオ実施。
5. 結果は[testing/e2e-tests.md](../testing/e2e-tests.md)へトレース。

## 改善プロセス
- 重大なアクセシビリティ欠陥は24時間以内にバグ登録。
- 季報でアクセシビリティレポートを作成し、[notes/meeting-notes.md](../notes/meeting-notes.md)のテンプレで議論。
- ADRにて恒常的対策を記録。

## 関連ドキュメント
- [ui/overview.md](./overview.md)
- [ui/wireframes.md](./wireframes.md)
- [ui/animations.md](./animations.md)
- [testing/e2e-tests.md](../testing/e2e-tests.md)

> **宣言**: 実装コードとC/C++依存要素を含まない。