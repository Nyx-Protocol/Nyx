# docs/ui/visual-design.md

> **遵守バッジ** : :no_entry: 実装コード非出力 / :no_entry_sign: C/C++依存禁止

## 目次
- [デザイン言語の目的](#デザイン言語の目的)
- [カラーシステム](#カラーシステム)
- [タイポグラフィ](#タイポグラフィ)
- [スペーシングとレイアウト](#スペーシングとレイアウト)
- [コンポーネントスタイル](#コンポーネントスタイル)
- [テーマとダークモード](#テーマとダークモード)
- [デザイントークン管理](#デザイントークン管理)
- [関連ドキュメント](#関連ドキュメント)

## デザイン言語の目的
Nyxの匿名性と信頼性を視覚的に表現し、ユーザに安心と透明性を提供する。色・フォント・間隔を体系化し、UI一貫性を確保。

## カラーシステム
| トークン | HEX | 用途 | アクセシビリティ |
|----------|-----|------|------------------|
| `color.primary` | `#4C6EF5` | 主要アクション、リンク | 背景#FFFFFFでコントラスト 5.5 |
| `color.secondary` | `#2E9CCA` | 副次アクション、情報 | コントラスト 4.8 |
| `color.success` | `#2BC48A` | 成功状態 | 4.5 |
| `color.warning` | `#F7A600` | 警告、非致命 | 4.3 |
| `color.danger` | `#D93025` | 重大エラー | 5.0 |
| `color.background` | `#F5F7FB` | 背景 | --- |
| `color.surface` | `#FFFFFF` | カード/モーダル | --- |
| `color.text.primary` | `#1F2933` | 本文 | コントラスト6.0 |

> すべての組み合わせはWCAG 2.2 AA基準を満たす。

## タイポグラフィ
| トークン | フォント | 用途 | 備考 |
|----------|----------|------|------|
| `font.display` | "Inter", sans-serif | 見出し (32-48px) | オープンライセンス |
| `font.body` | "Inter", sans-serif | 本文 (16-18px) | 行間 1.6 |
| `font.mono` | "JetBrains Mono" | テレメトリ値・コードサンプル | 14px |

- レスポンシブ: `clamp`関数を利用してサイズを自動調整（実装はCSSで対応）。

## スペーシングとレイアウト
- 基本グリッド: 8pxベース。
- コンポーネントのマージン/パディングは`4n`単位。
- レスポンシブブレークポイント: 480px, 768px, 1024px, 1440px。
- カード: 16pxパディング、角丸8px、影は`rgba(0,0,0,0.08)`。

## コンポーネントスタイル
| コンポーネント | スタイル基準 | 状態 |
|----------------|---------------|------|
| ボタン (Primary) | 背景`color.primary`, 角丸6px | Hover: 8%明度UP, Focus: 2pxアウトライン |
| バッジ | 塗り潰し+アイコン、匿名性レベルで色分け | `ANON-HIGH`: `#2BC48A` |
| カード | Surface背景、影、タイトルとメタ情報 | エラー時は左境界`color.danger` |
| チャート | ベースカラー: プライマリ+セカンダリ。線幅2px | 盲導色覚対応パレット採用 |
| モーダル | Max幅640px、背景遮蔽0.5 | 閉じる操作はキーボード対応 |

## テーマとダークモード
| 項目 | ライトテーマ | ダークテーマ |
|------|--------------|--------------|
| 背景 | #F5F7FB | #0E141B |
| 表面 | #FFFFFF | #1A2230 |
| 文字 | #1F2933 | #E5ECF5 |
| プライマリ | #4C6EF5 | #7C9BFF |
| エラー | #D93025 | #FF6B6B |
- ダークモードは自動検出と手動切替を提供。

## デザイントークン管理
- `design-tokens.yaml`で数値/色を管理し、プラットフォームで共有。
- トークン変更は[notes/decision-log.md](../notes/decision-log.md)で承認。
- 適用テストは[testing/e2e-tests.md](../testing/e2e-tests.md)と[ui/accessibility.md](./accessibility.md)で検証。

## 関連ドキュメント
- [ui/overview.md](./overview.md)
- [ui/animations.md](./animations.md)
- [ui/accessibility.md](./accessibility.md)
- [templates/ui-template.md](../templates/ui-template.md)

> **宣言**: 本章は実装コード無し、C/C++依存も無し。